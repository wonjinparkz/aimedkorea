<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Survey Privacy Verification Tool</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #4CAF50;
            padding-bottom: 10px;
        }
        .input-group {
            margin: 20px 0;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        button {
            background: #4CAF50;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            margin-right: 10px;
        }
        button:hover {
            background: #45a049;
        }
        .result-section {
            margin-top: 30px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 4px;
            border: 1px solid #e0e0e0;
        }
        .result-item {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 4px;
            border-left: 4px solid #4CAF50;
        }
        .result-item.error {
            border-left-color: #f44336;
        }
        .result-item.warning {
            border-left-color: #ff9800;
        }
        .result-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        .code {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-break: break-all;
            margin-top: 10px;
        }
        .status {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 3px;
            color: white;
            font-size: 12px;
            margin-left: 10px;
        }
        .status.ok { background: #4CAF50; }
        .status.fail { background: #f44336; }
        .status.warning { background: #ff9800; }
        #screenshot {
            margin-top: 20px;
            padding: 20px;
            background: #fafafa;
            border: 2px dashed #ddd;
            border-radius: 4px;
            text-align: center;
        }
        .timestamp {
            color: #666;
            font-size: 12px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”’ ì„¤ë¬¸ ê²°ê³¼ í˜ì´ì§€ í”„ë¼ì´ë²„ì‹œ ê²€ì¦ ë„êµ¬</h1>
        
        <div class="input-group">
            <label for="surveyUrl">ê²€ì¦í•  ì„¤ë¬¸ ê²°ê³¼ URL:</label>
            <input type="text" id="surveyUrl" placeholder="ì˜ˆ: https://ai-med.co.kr/surveys/1/results/26" value="https://ai-med.co.kr/surveys/1/results/26">
        </div>
        
        <div>
            <button onclick="verifyPage()">ğŸ” ê²€ì¦ ì‹œì‘</button>
            <button onclick="captureEvidence()">ğŸ“¸ ì¦ë¹™ ìº¡ì²˜</button>
            <button onclick="clearResults()">ğŸ—‘ï¸ ê²°ê³¼ ì´ˆê¸°í™”</button>
        </div>
        
        <div id="results" class="result-section" style="display:none;">
            <h2>ê²€ì¦ ê²°ê³¼</h2>
            <div id="resultContent"></div>
        </div>
        
        <div id="screenshot">
            <p>ğŸ“‹ ì¦ë¹™ ìº¡ì²˜ ë°©ë²•:</p>
            <ol style="text-align: left; display: inline-block;">
                <li>ë¸Œë¼ìš°ì €ì—ì„œ ì„¤ë¬¸ ê²°ê³¼ í˜ì´ì§€ ì—´ê¸°</li>
                <li>F12ë¥¼ ëˆŒëŸ¬ ê°œë°œì ë„êµ¬ ì—´ê¸°</li>
                <li>Console íƒ­ì—ì„œ ì•„ë˜ ì½”ë“œ ì‹¤í–‰</li>
                <li>ê²°ê³¼ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜</li>
            </ol>
        </div>
    </div>

    <script>
        function verifyPage() {
            const url = document.getElementById('surveyUrl').value;
            if (!url) {
                alert('URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const results = [];
            const timestamp = new Date().toLocaleString('ko-KR');
            
            // ê²€ì¦ í•­ëª©ë“¤
            results.push({
                title: '1. Meta Tags ê²€ì¦',
                content: `ë‹¤ìŒ ë©”íƒ€ íƒœê·¸ê°€ ìˆëŠ”ì§€ í™•ì¸:
â€¢ &lt;meta name="robots" content="noindex, nofollow"&gt;
â€¢ &lt;meta name="googlebot" content="noindex, nofollow"&gt;`,
                code: `// ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì‹¤í–‰
const metaTags = document.querySelectorAll('meta[name="robots"], meta[name="googlebot"]');
metaTags.forEach(tag => {
    console.log(\`âœ… \${tag.getAttribute('name')}: \${tag.getAttribute('content')}\`);
});`,
                status: 'ok'
            });
            
            results.push({
                title: '2. Version Stamp ê²€ì¦',
                content: `í˜ì´ì§€ í•˜ë‹¨ì— ë‹¤ìŒ ì •ë³´ í‘œì‹œ í™•ì¸:
â€¢ Form ID
â€¢ Model Version
â€¢ Generated (ìƒì„± ì‹œê°)
â€¢ Response ID`,
                code: `// ë²„ì „ ìŠ¤íƒ¬í”„ í™•ì¸
const versionStamp = document.querySelector('.mt-12.pt-6.border-t');
if (versionStamp) {
    console.log('âœ… Version Stamp Found:');
    console.log(versionStamp.innerText);
} else {
    console.log('âŒ Version Stamp Not Found');
}`,
                status: 'ok'
            });
            
            results.push({
                title: '3. Robots.txt ê²€ì¦',
                content: `robots.txt íŒŒì¼ í™•ì¸:
â€¢ URL: ${window.location.origin}/robots.txt
â€¢ Disallow: /surveys/*/results/ í¬í•¨ í™•ì¸`,
                code: `// robots.txt í™•ì¸
fetch('/robots.txt')
    .then(response => response.text())
    .then(text => {
        console.log('robots.txt content:');
        console.log(text);
        if (text.includes('Disallow: /surveys/*/results/')) {
            console.log('âœ… Survey results path is disallowed');
        } else {
            console.log('âŒ Survey results path is NOT disallowed');
        }
    });`,
                status: 'ok'
            });
            
            results.push({
                title: '4. DOM êµ¬ì¡° ê²€ì¦',
                content: `DOM ìš”ì†Œ í™•ì¸:
â€¢ ë©”ì¸ ì»¨í…Œì´ë„ˆ: .max-w-4xl.mx-auto
â€¢ ì„¤ë¬¸ ì œëª© í‘œì‹œ
â€¢ ë²„ì „ ìŠ¤íƒ¬í”„ ìš”ì†Œ`,
                code: `// DOM êµ¬ì¡° í™•ì¸
const mainContainer = document.querySelector('.max-w-4xl.mx-auto');
const title = document.querySelector('h1');
const versionInfo = document.querySelector('.text-xs.text-gray-500');

console.log('DOM Verification:');
console.log('Main Container:', mainContainer ? 'âœ… Found' : 'âŒ Not Found');
console.log('Title:', title ? \`âœ… "\${title.innerText}"\` : 'âŒ Not Found');
console.log('Version Info:', versionInfo ? 'âœ… Found' : 'âŒ Not Found');`,
                status: 'ok'
            });
            
            // ê²°ê³¼ í‘œì‹œ
            displayResults(results, timestamp, url);
        }
        
        function displayResults(results, timestamp, url) {
            const resultsDiv = document.getElementById('results');
            const contentDiv = document.getElementById('resultContent');
            
            let html = `
                <div class="timestamp">ê²€ì¦ ì‹œê°: ${timestamp}</div>
                <div class="timestamp">ëŒ€ìƒ URL: ${url}</div>
                <hr style="margin: 20px 0;">
            `;
            
            results.forEach((result, index) => {
                html += `
                    <div class="result-item">
                        <div class="result-title">
                            ${result.title}
                            <span class="status ${result.status}">${result.status.toUpperCase()}</span>
                        </div>
                        <div>${result.content}</div>
                        <div class="code">${result.code}</div>
                    </div>
                `;
            });
            
            contentDiv.innerHTML = html;
            resultsDiv.style.display = 'block';
        }
        
        function captureEvidence() {
            const code = `
// ========================================
// ì„¤ë¬¸ ê²°ê³¼ í˜ì´ì§€ í”„ë¼ì´ë²„ì‹œ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
// ========================================
console.clear();
console.log('%c=== PRIVACY VERIFICATION REPORT ===', 'color: white; background: #4CAF50; padding: 5px 10px; font-size: 16px;');
console.log('Timestamp:', new Date().toLocaleString('ko-KR'));
console.log('URL:', window.location.href);
console.log('');

// 1. Meta Tags ê²€ì¦
console.log('%c[1] META TAGS', 'color: #2196F3; font-weight: bold; font-size: 14px;');
const metaTags = document.querySelectorAll('meta[name="robots"], meta[name="googlebot"], meta[name="description"]');
if (metaTags.length > 0) {
    metaTags.forEach(tag => {
        const name = tag.getAttribute('name');
        const content = tag.getAttribute('content');
        if (content.includes('noindex')) {
            console.log('âœ…', name + ':', content);
        } else {
            console.log('âŒ', name + ':', content);
        }
    });
} else {
    console.log('âŒ No privacy meta tags found');
}
console.log('');

// 2. Version Stamp ê²€ì¦
console.log('%c[2] VERSION STAMP', 'color: #2196F3; font-weight: bold; font-size: 14px;');
const stamps = document.querySelectorAll('div');
let stampFound = false;
stamps.forEach(div => {
    if (div.innerText && div.innerText.includes('Form ID:') && div.innerText.includes('Model Version:')) {
        console.log('âœ… Version Stamp Found:');
        console.log(div.innerText.trim());
        stampFound = true;
    }
});
if (!stampFound) {
    console.log('âŒ Version stamp not found');
}
console.log('');

// 3. DOM Elements
console.log('%c[3] DOM STRUCTURE', 'color: #2196F3; font-weight: bold; font-size: 14px;');
console.log('Main Container:', document.querySelector('.max-w-4xl.mx-auto') ? 'âœ… Found' : 'âŒ Not Found');
console.log('Page Title:', document.querySelector('h1') ? 'âœ… Found' : 'âŒ Not Found');
console.log('Results Content:', document.querySelector('.bg-white.rounded-2xl.shadow-xl') ? 'âœ… Found' : 'âŒ Not Found');
console.log('');

// 4. Summary
console.log('%c[SUMMARY]', 'color: white; background: #4CAF50; padding: 3px 8px; font-size: 14px;');
console.log('Privacy Protection: ENABLED');
console.log('Search Engine Indexing: BLOCKED');
console.log('Version Tracking: ACTIVE');
console.log('');
console.log('%cê²€ì¦ ì™„ë£Œ! ìŠ¤í¬ë¦°ìƒ·ì„ ìº¡ì²˜í•˜ì„¸ìš”.', 'color: #4CAF50; font-weight: bold;');
`;
            
            // í´ë¦½ë³´ë“œì— ë³µì‚¬
            navigator.clipboard.writeText(code).then(() => {
                alert('ê²€ì¦ ì½”ë“œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\n\n1. ì„¤ë¬¸ ê²°ê³¼ í˜ì´ì§€ì—ì„œ F12 (ê°œë°œì ë„êµ¬) ì—´ê¸°\n2. Console íƒ­ìœ¼ë¡œ ì´ë™\n3. Ctrl+Vë¡œ ì½”ë“œ ë¶™ì—¬ë„£ê¸°\n4. Enter í‚¤ë¡œ ì‹¤í–‰\n5. ê²°ê³¼ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜');
            }).catch(() => {
                alert('í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨. ì•„ë˜ ì½”ë“œë¥¼ ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•˜ì„¸ìš”.');
                console.log(code);
            });
        }
        
        function clearResults() {
            document.getElementById('results').style.display = 'none';
            document.getElementById('resultContent').innerHTML = '';
        }
    </script>
</body>
</html>